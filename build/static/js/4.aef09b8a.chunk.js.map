{"version":3,"sources":["components/common/FormControls/FormsControls.module.css","utils/validators/validators.js","components/common/FormControls/FormsControls.js","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/MyPosts/Post/Post.js","components/Profile/MyPosts/MyPosts.js","components/Profile/MyPosts/MyPostsContainer.js","components/Profile/ProfileInfo/ProfileStatus.js","components/Profile/ProfileInfo/ProfileInfo.js","components/Profile/Profile.js","components/Profile/ProfileContainer.js"],"names":["module","exports","required","value","maxLengthCreator","maxLength","length","FormControl","input","meta","touched","error","children","hasError","className","style","Textarea","props","restProps","child","Input","CreateField","validate","placeholder","name","component","text","Post","item","alt","src","message","likeCounts","maxLength10","MyPostsForm","onSubmit","handleSubmit","Field","MyPosts","React","memo","postsElements","posts","map","p","PostReduxFrom","reduxForm","form","postsBlock","values","addPost","newPostText","MyPostsContainer","connect","state","profilePage","dispatch","addPostActionCreator","ProfileStatus","editMode","status","activateEditMode","setState","deactivateEditMode","updateUserStatus","onStatusChange","e","currentTarget","prevProps","prevState","this","profile__status","onDoubleClick","onChange","onBlur","autoFocus","Component","ProfileInfo","profile","photos","large","fullName","profile__description","aboutMe","profile__contacts","contacts","facebook","lookingForAJob","lookingForAJobDescription","Profile","ProfileContainer","userId","match","params","autorizedUserId","history","push","getUserProfile","getUserStatus","updateStatus","compose","isFetching","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/4.aef09b8a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormsControls_error__2i_51\",\"login_error\":\"FormsControls_login_error__1k65A\"};","export const required = (value) => {\n  if (value) return undefined;\n  return \"field is required\";\n};\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n  if (value.length > maxLength) return `max length is ${maxLength} symbols`;\n  return undefined;\n};\n","import style from \"./FormsControls.module.css\";\nimport { Field } from \"redux-form\";\n\nconst FormControl = ({ input, meta: {touched,error}, children }) => {\n  const hasError = touched && error;\n  return (\n    <div className={hasError ? style.error : \"\"}>\n      <div>{ children}</div>\n\n      {hasError && <span>{error}</span>}\n    </div>\n  );\n};\n\nexport const Textarea = (props) => {\n  const { input, meta, child, ...restProps } = props;\n  return (\n    <FormControl {...props}>\n      <textarea {...input} {...restProps} />\n    </FormControl>\n  );\n};\n\nexport const Input = (props) => {\n  const { input, meta, child, ...restProps } = props;\n  return (\n    <FormControl {...props}>\n      <input {...input} {...restProps} />\n    </FormControl>\n  );\n};\n\nexport const CreateField = (validate, placeholder, name, component, props={}, text=\"\") => {\n  return (\n    <div>\n      <Field\n        validate={validate}\n        placeholder={placeholder}\n        name={name}\n        component={component}\n        {...props}\n      /> {text}\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2ifKf\",\"posts\":\"MyPosts_posts__3tZ1c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__ihtu9\"};","import style from \"./Post.module.css\";\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={style.item}>\r\n      <img alt=\"2\" src=\"https://helpx.adobe.com/content/dam/help/en/stock/how-to/visual-reverse-image-search/jcr_content/main-pars/image/visual-reverse-image-search-v2_intro.jpg\" />\r\n      {props.message}\r\n      <div>\r\n        <span>like</span> {props.likeCounts}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React from \"react\";\r\nimport style from \"./MyPosts.module.css\";\r\nimport Post from \"./Post/Post\";\r\nimport { reduxForm, Field } from \"redux-form\";\r\nimport {\r\n  maxLengthCreator,\r\n  required,\r\n} from \"../../../utils/validators/validators\";\r\nimport { Textarea } from \"../../common/FormControls/FormsControls\";\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nconst MyPostsForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field\r\n          placeholder={\"text\"}\r\n          name={\"newPostText\"}\r\n          component={Textarea}\r\n          validate={[required, maxLength10]}\r\n        />\r\n      </div>\r\n      <div>\r\n        <button>Send post</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\nconst MyPosts = React.memo((props) => {\r\n  let postsElements = props.posts.map((p) => (\r\n    <Post key={p.message} message={p.message} likeCounts={p.likeCounts} />\r\n  ));\r\n\r\n  let addPost = (values) => {\r\n    props.addPost(values.newPostText);\r\n  };\r\n\r\n  const PostReduxFrom = reduxForm({\r\n    form: \"addNewPostForm\",\r\n  })(MyPostsForm);\r\n\r\n  return (\r\n    <div className={style.postsBlock}>\r\n      <h2>My posts</h2>\r\n      <PostReduxFrom onSubmit={addPost} />\r\n      <div className={style.posts}>{postsElements}</div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default MyPosts;\r\n","import { connect } from \"react-redux\";\r\nimport { addPostActionCreator } from \"../../../state/profileReducer\";\r\nimport MyPosts from \"./MyPosts\";\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n  };\r\n};\r\n\r\nlet mapDispathToProps = (dispatch) => {\r\n  return {\r\n    addPost: (newPostText) => {\r\n      dispatch(addPostActionCreator(newPostText));\r\n    },\r\n  };\r\n};\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispathToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","import React from \"react\";\nimport style from \"./ProfileInfo.module.css\";\n\nclass ProfileStatus extends React.Component {\n  state = {\n    editMode: false,\n    status: this.props.status,\n  };\n\n  activateEditMode = () => {\n    this.setState({\n      editMode: true,\n    });\n  };\n\n  deactivateEditMode = () => {\n    this.setState({\n      editMode: false,\n    });\n    this.props.updateUserStatus(this.state.status);\n  };\n\n  onStatusChange = (e) => {\n    this.setState({\n      status: e.currentTarget.value,\n    });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.status !== this.props.status) {\n      this.setState({\n        status: this.props.status,\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className={style.profile__status}>\n        {!this.state.editMode && (\n          <div>\n            <span onDoubleClick={this.activateEditMode}>\n              {this.props.status || \"--------\"}\n            </span>\n          </div>\n        )}\n        {this.state.editMode && (\n          <div>\n            <input\n              onChange={this.onStatusChange}\n              onBlur={this.deactivateEditMode}\n              value={this.state.status}\n              autoFocus={true}\n            ></input>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default ProfileStatus;\n","import style from \"./ProfileInfo.module.css\";\r\nimport Preloader from \"./../../common/Preloader/preloader\";\r\nimport ProfileStatus from \"./ProfileStatus\";\r\n//import ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nconst ProfileInfo = ({profile,status,updateUserStatus}) => {\r\n  if (!profile) {\r\n    return <Preloader />;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <img\r\n          alt=\"1\"\r\n          src=\"https://media.istockphoto.com/photos/child-hands-formig-heart-shape-picture-id951945718?k=6&m=951945718&s=612x612&w=0&h=ih-N7RytxrTfhDyvyTQCA5q5xKoJToKSYgdsJ_mHrv0=\"\r\n        />\r\n      </div>\r\n      <div className={style.profile}>\r\n        <img alt=\"1\" src={profile.photos.large} />\r\n        <div>{profile.fullName}</div>\r\n          <ProfileStatus status={status} updateUserStatus={updateUserStatus}/>\r\n  \r\n        <div className={style.profile__description}>\r\n          {profile.aboutMe}\r\n        </div>\r\n        <div className={style.profile__contacts}>\r\n          {profile.contacts.facebook}\r\n        </div>\r\n        {profile.lookingForAJob ? (\r\n          <div>\r\n            I am looking for a job! \"{profile.lookingForAJobDescription}\"\r\n          </div>\r\n        ) : (\r\n          <div>I am don't looking for a job!</div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileInfo;\r\n","import MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\n\r\nconst Profile = (props) => {\r\n  return (\r\n    <div className=\"\">\r\n      <ProfileInfo\r\n        updateUserStatus={props.updateUserStatus}\r\n        status={props.status}\r\n        profile={props.profile}\r\n      />\r\n      <MyPostsContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport {\r\n  getUserProfile,\r\n  getUserStatus,\r\n  updateUserStatus,\r\n} from \"../../state/profileReducer\";\r\nimport Profile from \"./Profile\";\r\nimport { compose } from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId) {\r\n      userId = this.props.autorizedUserId;\r\n      if(!userId){\r\n        this.props.history.push(\"/login\");\r\n      }\r\n    }\r\n    this.props.getUserProfile(userId);\r\n    this.props.getUserStatus(userId);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div>\r\n          <Profile\r\n            updateUserStatus={this.props.updateStatus}\r\n            status={this.props.status}\r\n            {...this.props}\r\n            profile={this.props.profile}\r\n          />\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    profile: state.profilePage.profile,\r\n    isFetching: state.profilePage.isFetching,\r\n    status: state.profilePage.status,\r\n    autorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    getUserProfile,\r\n    getUserStatus,\r\n    updateUserStatus,\r\n  }),\r\n  withRouter\r\n)(ProfileContainer);\r\n"],"sourceRoot":""}