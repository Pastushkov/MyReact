(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[4],{228:function(t,e,s){"use strict";s.d(e,"c",(function(){return d})),s.d(e,"b",(function(){return b})),s.d(e,"a",(function(){return h}));var i=s(3),c=s(38),n=s(229),r=s.n(n),o=s(111),a=s(1),j=["input","meta","child"],u=["input","meta","child"],l=function(t){t.input;var e=t.meta,s=e.touched,i=e.error,c=t.children,n=s&&i;return Object(a.jsxs)("div",{className:n?r.a.error:"",children:[Object(a.jsx)("div",{children:c}),n&&Object(a.jsx)("span",{children:i})]})},d=function(t){var e=t.input,s=(t.meta,t.child,Object(c.a)(t,j));return Object(a.jsx)(l,Object(i.a)(Object(i.a)({},t),{},{children:Object(a.jsx)("textarea",Object(i.a)(Object(i.a)({},e),s))}))},b=function(t){var e=t.input,s=(t.meta,t.child,Object(c.a)(t,u));return Object(a.jsx)(l,Object(i.a)(Object(i.a)({},t),{},{children:Object(a.jsx)("input",Object(i.a)(Object(i.a)({},e),s))}))},h=function(t,e,s,c){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(a.jsxs)("div",{children:[Object(a.jsx)(o.a,Object(i.a)({validate:t,placeholder:e,name:s,component:c},n))," ",r]})}},229:function(t,e,s){t.exports={error:"FormsControls_error__2i_51",login_error:"FormsControls_login_error__1k65A"}},230:function(t,e,s){"use strict";s.d(e,"b",(function(){return i})),s.d(e,"a",(function(){return c}));var i=function(t){if(!t)return"field is required"},c=function(t){return function(e){if(e.length>t)return"max length is ".concat(t," symbols")}}},250:function(t,e,s){t.exports={avatar:"ProfileInfo_avatar__3xuFq",contact:"ProfileInfo_contact__1N3gp"}},293:function(t,e,s){t.exports={postsBlock:"MyPosts_postsBlock__2ifKf",posts:"MyPosts_posts__3tZ1c"}},294:function(t,e,s){t.exports={item:"Post_item__ihtu9"}},297:function(t,e,s){"use strict";s.r(e);var i=s(3),c=s(26),n=s(27),r=s(29),o=s(28),a=s(0),j=s.n(a),u=s(16),l=s(5),d=s(63),b=s(293),h=s.n(b),p=s(294),O=s.n(p),f=s(1),x=function(t){return Object(f.jsxs)("div",{className:O.a.item,children:[Object(f.jsx)("img",{alt:"2",src:"https://helpx.adobe.com/content/dam/help/en/stock/how-to/visual-reverse-image-search/jcr_content/main-pars/image/visual-reverse-image-search-v2_intro.jpg"}),t.message,Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{children:"like"})," ",t.likeCounts]})]})},v=s(111),m=s(112),g=s(230),k=s(228),P=Object(g.a)(10),_=function(t){return Object(f.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(f.jsx)("div",{children:Object(f.jsx)(v.a,{placeholder:"text",name:"newPostText",component:k.c,validate:[g.b,P]})}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{children:"Send post"})})]})},S=j.a.memo((function(t){var e=t.posts.map((function(t){return Object(f.jsx)(x,{message:t.message,likeCounts:t.likeCounts},t.message)})),s=Object(m.a)({form:"addNewPostForm"})(_);return Object(f.jsxs)("div",{className:h.a.postsBlock,children:[Object(f.jsx)("h2",{children:"My posts"}),Object(f.jsx)(s,{onSubmit:function(e){t.addPost(e.newPostText)}}),Object(f.jsx)("div",{className:h.a.posts,children:e})]})})),y=Object(u.b)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(e){t(Object(d.a)(e))}}}))(S),M=s(84),C=s(250),F=s.n(C),N=s(31),U=function(t){Object(r.a)(s,t);var e=Object(o.a)(s);function s(){var t;Object(c.a)(this,s);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))).state={editMode:!1,status:t.props.status},t.activateEditMode=function(){t.setState({editMode:!0})},t.deactivateEditMode=function(){t.setState({editMode:!1}),t.props.updateUserStatus(t.state.status)},t.onStatusChange=function(e){t.setState({status:e.currentTarget.value})},t}return Object(n.a)(s,[{key:"componentDidUpdate",value:function(t,e){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Object(f.jsxs)("div",{className:F.a.profile__status,children:[Object(f.jsx)("b",{children:"Status: "}),!this.state.editMode&&Object(f.jsx)("div",{children:Object(f.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"--------"})}),this.state.editMode&&Object(f.jsx)("div",{children:Object(f.jsx)("input",{onChange:this.onStatusChange,onBlur:this.deactivateEditMode,value:this.state.status,autoFocus:!0})})]})}}]),s}(j.a.Component),w=s(83),A=Object(m.a)({form:"editProfile"})((function(t){var e=t.profile,s=t.handleSubmit,i=t.error;return Object(f.jsxs)("form",{onSubmit:s,children:[Object(f.jsx)("div",{children:Object(f.jsx)("button",{children:"save"})}),i&&Object(f.jsx)("div",{children:i}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Full name:"})," ",Object(k.a)(null,"Full name","fullName",k.b)]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"About me:"})," ",Object(k.a)([],"About me","aboutMe",k.c)]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Looking for a job:"}),Object(k.a)([],"","lookingForAJob",k.b,{type:"checkbox"})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"My professional skills"}),":",Object(k.a)([],"My proffesion skills","lookingForAJobDescription",k.c)]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Contacts:"}),Object.keys(e.contacts).map((function(t){return Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:t}),": ",Object(k.a)([],t,"contacts."+t,k.b)]},t)}))]})]})})),I=function(t){var e=t.contactTitle,s=t.contactValue;return Object(f.jsxs)("div",{className:F.a.contact,children:[Object(f.jsx)("b",{children:e}),": ",s]})},T=function(t){var e=t.profile,s=t.isOwner,i=t.goToEditMode;return Object(f.jsxs)("div",{className:F.a.profile,children:[s&&Object(f.jsx)("div",{children:Object(f.jsx)("button",{onClick:i,children:"Edit"})}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Full name:"})," ",e.fullName]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"About me:"})," ",e.aboutMe]}),Object(f.jsx)("div",{children:e.lookingForAJob?Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"I am looking for a job! "}),'"',e.lookingForAJobDescription,'"']}):Object(f.jsx)("div",{children:Object(f.jsx)("b",{children:"I am don't looking for a job!"})})}),Object(f.jsxs)("div",{className:F.a.profile__contacts,children:[Object(f.jsx)("b",{children:"Contacts:"}),Object.keys(e.contacts).map((function(t){return Object(f.jsx)(I,{contactTitle:t,contactValue:e.contacts[t]},t)}))]})]})},J=function(t){var e=t.savePhoto,s=t.profile,i=t.status,c=t.updateUserStatus,n=t.isOwner,r=t.saveProfile,o=Object(a.useState)(!1),j=Object(M.a)(o,2),u=j[0],l=j[1];if(!s)return Object(f.jsx)(N.a,{});return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:Object(f.jsx)("img",{alt:"1",src:"https://media.istockphoto.com/photos/child-hands-formig-heart-shape-picture-id951945718?k=6&m=951945718&s=612x612&w=0&h=ih-N7RytxrTfhDyvyTQCA5q5xKoJToKSYgdsJ_mHrv0="})}),Object(f.jsx)("div",{children:Object(f.jsx)("img",{alt:"1",src:s.photos.large||w.a,className:F.a.avatar})}),n&&Object(f.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e(t.target.files[0])}}),Object(f.jsx)(U,{status:i,updateUserStatus:c}),u?Object(f.jsx)(A,{profile:s,onSubmit:function(t){r(t).then((function(){l(!1)}))},initialValues:s}):Object(f.jsx)(T,{profile:s,goToEditMode:function(){l(!0)},isOwner:n})]})},D=function(t){return Object(f.jsxs)("div",{className:"",children:[Object(f.jsx)(J,{updateUserStatus:t.updateUserStatus,status:t.status,profile:t.profile,isOwner:t.isOwner,savePhoto:t.savePhoto,saveProfile:t.saveProfile}),Object(f.jsx)(y,{})]})},E=s(18),B=function(t){Object(r.a)(s,t);var e=Object(o.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(n.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.autorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{children:Object(f.jsx)(D,Object(i.a)(Object(i.a)({updateUserStatus:this.props.updateStatus,status:this.props.status},this.props),{},{profile:this.props.profile,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))})})}}]),s}(j.a.Component);e.default=Object(E.d)(Object(u.b)((function(t){return{profile:t.profilePage.profile,isFetching:t.profilePage.isFetching,status:t.profilePage.status,autorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:d.c,getUserStatus:d.d,updateUserStatus:d.g,savePhoto:d.e,saveProfile:d.f}),l.g)(B)}}]);
//# sourceMappingURL=4.154f3064.chunk.js.map