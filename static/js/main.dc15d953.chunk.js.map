{"version":3,"sources":["reportWebVitals.js","state/navBarReducer.js","utils/helpers/objectHelpers.js","state/usersReducer.js","state/appReducer.js","state/redux-store.js","components/Header/Header.js","components/Header/HeaderContainer.js","components/Navbar/Navbar.js","components/Navbar/NavbarContainer.js","components/common/Paginator/Paginator.js","components/Users/User.js","components/Users/Users.js","state/usersSelectors.js","components/Users/UsersContainer.js","hoc/widthSuspence.js","App.js","index.js","state/authReducer.js","assets/images/preloader.gif","components/common/Preloader/preloader.js","components/Users/users.module.css","components/Header/Header.module.css","components/Navbar/Navbar.module.css","components/common/Paginator/paginator.module.css","state/profileReducer.js","state/dialogsReducer.js","api/api.js","assets/images/user.png"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","pages","page","to","navBarReducer","state","updateObjectinArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","followSuccess","userId","type","unfollowSuccess","setCurrentPage","setToggleFetching","setToggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCR","a","resultCode","usersReducer","action","followed","filter","id","SET_INITIALIZED","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","navBar","usersPage","auth","authReducer","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","___store____","Header","props","className","style","header","header__logo","alt","src","loginBlock","isAuth","login","onClick","logout","HeaderContainer","this","React","Component","connect","Navbar","pagesElements","p","item","activeClassName","activeLink","nav","NavbarContainer","Paginator","totalItemsCount","onPageChange","portionSize","pagesCount","Math","ceil","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionNumber","paginator","cn","selectedPage","pageNumber","e","User","user","unfollow","follow","avatar","photos","small","userPhoto","disabled","some","name","status","Users","getUsers","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","requestUsers","usersAPI","followUser","bind","unfollowUser","responce","totalCount","widthSuspence","fallback","DialogsContainer","lazy","ProfileContainer","Login","App","initializeApp","addEventListener","catchAllUnhandledErrors","removeEventListener","exact","path","render","AppContainer","getAuthUserData","MainApp","ReactDOM","document","getElementById","SET_USER_DATA","SET_CAPTCHA_URL","email","captchaUrl","setAuthUserData","data","authAPI","authMe","password","rememberMe","getCaptchaUrl","message","messages","length","stopSubmit","_error","securityAPI","getCaptchUrl","url","Preloader","fetching","preloader","module","exports","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCES","SAVE_PROFILE_SUCCES","posts","likeCounts","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","respoce","getUserStatus","profileAPI","updateUserStatus","updateStatus","savePhoto","file","saveProfile","Promise","reject","newPost","postId","ADD_MESSAGE","dialogs","addMessage","newMessageText","newMessage","instance","axios","baseURL","withCredentials","headers","get","post","delete","put","formData","FormData","append"],"mappings":"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","file":"static/js/main.dc15d953.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","let initialState = {\n    pages: [\n        { page: \"Profile\", to: \"/profile/\" },\n        { page: \"Message\", to: \"/dialogs\" },\n        { page: \"News\", to: \"/news\" },\n        { page: \"Music\", to: \"/music\" },\n        { page: \"Settings\", to: \"/settings\" },\n        { page: \"Users\", to: \"/users\" },\n      ]\n};\n\nconst navBarReducer = (state=initialState, action) =>{\n    return state;\n}\nexport default navBarReducer;","export const updateObjectinArray = (\n  items,\n  itemId,\n  objPropName,\n  newObjProps\n) => {\n return items.map((u) => {\n    if (u[objPropName] === itemId) {\n      return { ...u, ...newObjProps };\n    }\n    return u;\n  });\n};\n","import { usersAPI } from \"../api/api\";\nimport { updateObjectinArray } from \"../utils/helpers/objectHelpers\";\n\nconst FOLLOW = \"FOLLOW\";\nconst UNFOLLOW = \"UNFOLLOW\";\nconst SET_USERS = \"SET-USERS\";\nconst SET_CURRENT_PAGE = \"SET-CURRENT-PAGE\";\nconst SET_TOTAL_USERS_COUNT = \"SET-TOTAL-USERS-COUNT\";\nconst TOGGLE_IS_FETCHING = \"TOGGLE-IS-FETCHING\";\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE-IS-FOLLOWING-PROGRESS\";\nlet initialState = {\n  users: [],\n  pageSize: 5,\n  totalUsersCount: 0,\n  currentPage: 1,\n  isFetching: false,\n  followingInProgress: [],\n};\n\nconst usersReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FOLLOW:\n      return {\n        ...state,\n        users: updateObjectinArray(state.users, action.userId, \"id\", {\n          followed: true,\n        }),\n      };\n    case UNFOLLOW:\n      return {\n        ...state,\n        users: updateObjectinArray(state.users, action.userId, \"id\", {\n          followed: false,\n        }),\n      };\n    case SET_USERS:\n      return { ...state, users: [...action.users] };\n    case SET_CURRENT_PAGE:\n      return { ...state, currentPage: action.currentPage };\n    case SET_TOTAL_USERS_COUNT:\n      return { ...state, totalUsersCount: action.totalUsersCount };\n    case TOGGLE_IS_FETCHING:\n      return { ...state, isFetching: action.isFetching };\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\n      return {\n        ...state,\n        followingInProgress: action.isFetching\n          ? [...state.followingInProgress, action.userId]\n          : state.followingInProgress.filter((id) => id !== action.userId),\n      };\n    default:\n      return state;\n  }\n};\n\nexport const followSuccess = (userId) => {\n  return {\n    type: FOLLOW,\n    userId,\n  };\n};\n\nexport const unfollowSuccess = (userId) => {\n  return {\n    type: UNFOLLOW,\n    userId,\n  };\n};\n\nexport const setUsers = (users) => {\n  return {\n    type: SET_USERS,\n    users,\n  };\n};\n\nexport const setCurrentPage = (currentPage) => {\n  return {\n    type: SET_CURRENT_PAGE,\n    currentPage,\n  };\n};\n\nexport const setTotalUsersCount = (totalUsersCount) => {\n  return {\n    type: SET_TOTAL_USERS_COUNT,\n    totalUsersCount,\n  };\n};\n\nexport const setToggleFetching = (isFetching) => {\n  return {\n    type: TOGGLE_IS_FETCHING,\n    isFetching,\n  };\n};\n\nexport const setToggleFollowingProgress = (isFetching, userId) => {\n  return {\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\n    isFetching,\n    userId,\n  };\n};\n\nexport const requestUsers = (page, pageSize) => async (dispatch) => {\n  dispatch(setToggleFetching(true));\n  dispatch(setCurrentPage(page));\n  let responce = await usersAPI.getUsers(page, pageSize);\n  dispatch(setToggleFetching(false));\n  dispatch(setUsers(responce.items));\n  dispatch(setTotalUsersCount(responce.totalCount));\n};\n\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCR) => {\n  dispatch(setToggleFollowingProgress(true, userId));\n  let responce = await apiMethod(userId);\n  if (responce.resultCode === 0) {\n    dispatch(actionCR(userId));\n  }\n  dispatch(setToggleFollowingProgress(false, userId));\n};\n\nexport const follow = (userId) => async (dispatch) => {\n  followUnfollowFlow(\n    dispatch,\n    userId,\n    usersAPI.followUser.bind(usersAPI),\n    followSuccess\n  );\n};\n\nexport const unfollow = (userId) => async (dispatch) => {\n  followUnfollowFlow(\n    dispatch,\n    userId,\n    usersAPI.unfollowUser.bind(usersAPI),\n    unfollowSuccess\n  );\n};\n\nexport default usersReducer;\n","import { getAuthUserData } from \"./authReducer\";\n\nconst SET_INITIALIZED = \"SET-INITIALIZED\";\nlet initialState = {\n  initialized: false,\n};\n\nconst appReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_INITIALIZED:\n      return {\n        ...state,\n        initialized: true,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const initializedSucces = () => {\n  return { type: SET_INITIALIZED };\n};\n\nexport const initializeApp = () => (dispatch) => {\n  let promise = dispatch(getAuthUserData());\n  promise.then(() => {\n    dispatch(initializedSucces());\n  });\n};\n\nexport default appReducer;\n","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\nimport dialogsReducer from \"./dialogsReducer\";\nimport profileReducer from \"./profileReducer\";\nimport navBarReducer from \"./navBarReducer\";\nimport usersReducer from \"./usersReducer\";\nimport authReducer from \"./authReducer\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { reducer as formReducer } from \"redux-form\";\nimport appReducer from \"./appReducer\";\n\nlet reducers = combineReducers({\n  profilePage: profileReducer,\n  dialogsPage: dialogsReducer,\n  navBar: navBarReducer,\n  usersPage: usersReducer,\n  auth: authReducer,\n  form: formReducer,\n  app: appReducer,\n});\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  reducers,\n  /* preloadedState, */ composeEnhancers(applyMiddleware(thunkMiddleware))\n);\n//let store = createStore(reducers, applyMiddleware());\nwindow.___store____ = store;\nexport default store;\n","import style from \"./Header.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={style.header}>\r\n      <img\r\n        className={style.header__logo}\r\n        alt=\"1\"\r\n        src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f9/Google_Lens_-_new_logo.png/600px-Google_Lens_-_new_logo.png\"\r\n      />\r\n      <div className={style.loginBlock}>\r\n        {props.isAuth ? (\r\n          <div>\r\n            {props.login} - <button onClick={props.logout}>Log Out</button>\r\n          </div>\r\n        ) : (\r\n          <NavLink to={\"/login\"}>Login</NavLink>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Header from \"./Header\";\r\nimport { logout } from \"../../state/authReducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n  render() {\r\n    return (\r\n      <Header\r\n        isAuth={this.props.isAuth}\r\n        login={this.props.login}\r\n        logout={this.props.logout}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n  };\r\n};\r\nexport default connect(mapStateToProps, {\r\n  logout,\r\n})(HeaderContainer);\r\n","import { NavLink } from \"react-router-dom\";\r\nimport style from \"./Navbar.module.css\";\r\n\r\nconst Navbar = (props) => {  \r\n  let pagesElements = props.pages.map((p) => (\r\n    <div className={style.item} key={p.to}>\r\n      <NavLink to={p.to} activeClassName={style.activeLink}>\r\n        {p.page}\r\n      </NavLink>\r\n    </div>\r\n  ));\r\n\r\n  return <nav className={style.nav}>{pagesElements}</nav>;\r\n};\r\n\r\nexport default Navbar;","import { connect } from \"react-redux\";\r\nimport Navbar from \"./Navbar\";\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    pages: state.navBar.pages,\r\n  };\r\n};\r\n\r\nconst NavbarContainer = connect(mapStateToProps)(Navbar);\r\n\r\nexport default NavbarContainer;\r\n","import React, { useState } from \"react\";\nimport style from \"./paginator.module.css\";\nimport cn from \"classnames\";\n\nlet Paginator = ({\n  totalItemsCount,\n  pageSize,\n  onPageChange,\n  currentPage,\n  portionSize = 10,\n}) => {\n  let pagesCount = Math.ceil(totalItemsCount / pageSize);\n  let pages = [];\n  for (let i = 1; i <= pagesCount; i++) {\n    pages.push(i);\n  }\n\n  let portionCount = Math.ceil(pagesCount / portionSize);\n  let [portionNumber, setPortionNumber] = useState(1);\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n  let rightPortionNumber = portionNumber * portionSize;\n\n  return (\n    <div className={style.paginator}>\n      {portionNumber > 1 && (\n        <button\n          onClick={() => {\n            setPortionNumber(portionNumber - 1);\n          }}\n        >\n          Prev\n        </button>\n      )}\n      {pages\n        .filter((p) => p >= leftPortionPageNumber && p <= rightPortionNumber)\n        .map((p) => {\n          return (\n            <span\n              className={cn(\n                { [style.selectedPage]: currentPage === p },\n                style.pageNumber\n              )}\n              key={p}\n              onClick={(e) => {\n                onPageChange(p);\n              }}\n            >\n              {p}\n            </span>\n          );\n        })}\n      {portionCount > portionNumber && (\n        <button\n          onClick={() => {\n            setPortionNumber(portionNumber + 1);\n          }}\n        >\n          Next\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default Paginator;\n","import React from \"react\";\nimport userPhoto from \"./../../assets/images/user.png\";\nimport style from \"./users.module.css\";\nimport { NavLink } from \"react-router-dom\";\nlet User = ({ user, followingInProgress,unfollow,follow,...props }) => {\n  return (\n    <div>           \n          <span>\n            <div>\n              <NavLink to={\"/profile/\" + user.id}>\n                <img\n                  alt=\"\"\n                  className={style.avatar}\n                  src={user.photos.small !== null ? user.photos.small : userPhoto}\n                />\n              </NavLink>\n            </div>\n            <div>\n              {user.followed ? (\n                <button\n                  disabled={followingInProgress.some((id) => id === user.id)}\n                  onClick={() => {\n                    unfollow(user.id);\n                  }}\n                >\n                  Unfollow\n                </button>\n              ) : (\n                <button\n                  disabled={followingInProgress.some((id) => id === user.id)}\n                  onClick={() => {\n                    follow(user.id);\n                  }}\n                >\n                  Follow\n                </button>\n              )}\n            </div>\n          </span>\n          <span>\n            <span>\n              <div>{user.name}</div>\n              <div>{user.status}</div>\n            </span>\n            <span>\n              <div>{\"u.location.country\"}</div>\n              <div>{\"u.location.city\"}</div>\n            </span>\n          </span>\n        </div>          \n  );\n};\n\nexport default User;\n","import React from \"react\";\nimport Paginator from \"../common/Paginator/Paginator\";\nimport User from \"./User\";\nlet Users = ({\n  currentPage,\n  totalUsersCount,\n  pageSize,\n  onPageChange,\n  users,\n  followingInProgress,\n  follow,\n  unfollow,\n  ...props\n}) => {\n  return (\n    <div>\n      <div>\n        <Paginator\n          totalItemsCount={totalUsersCount}\n          pageSize={pageSize}\n          currentPage={currentPage}\n          onPageChange={onPageChange}\n        />\n      </div>\n      {users.map((u) => (\n        <User\n          user={u}\n          key={u.id}\n          followingInProgress={followingInProgress}\n          follow={follow}\n          unfollow={unfollow}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default Users;\n","import { createSelector } from \"reselect\";\n\nconst getUsersSelector = (state) => {    \n  return state.usersPage.users;\n};\n\nexport const getUsers = createSelector(getUsersSelector, (users) => {\n  return users.filter((u) => true);\n});\n\nexport const getPageSize = (state) => {\n  return state.usersPage.pageSize;\n};\n\nexport const getTotalUsersCount = (state) => {  \n  return state.usersPage.totalUsersCount;\n};\n\nexport const getCurrentPage = (state) => {\n  return state.usersPage.currentPage;\n};\n\nexport const getIsFetching = (state) => {\n  return state.usersPage.isFetching;\n};\n\nexport const getFollowingInProgress = (state) => {\n  return state.usersPage.followingInProgress;\n};\n","import { connect } from \"react-redux\";\nimport {\n  follow,\n  setCurrentPage,\n  unfollow,\n  setToggleFollowingProgress,\n  requestUsers,\n} from \"../../state/usersReducer\";\nimport React from \"react\";\nimport Users from \"./Users\";\nimport Preloader from \"../common/Preloader/preloader\";\nimport { compose } from \"redux\";\nimport {\n  getCurrentPage,\n  getFollowingInProgress,\n  getIsFetching,\n  getPageSize,\n  getTotalUsersCount,\n  getUsers,\n} from \"../../state/usersSelectors\";\n\nclass UsersContainer extends React.Component {\n  componentDidMount() {\n    let {currentPage, pageSize} = this.props;\n    this.props.requestUsers(currentPage, pageSize);\n  }\n\n  onPageChange = (pageNumber) => {\n    let {pageSize }= this.props\n    this.props.requestUsers(pageNumber, pageSize);\n  };\n\n  render() {\n    return (\n      <>\n        {this.props.isFetching ? <Preloader /> : null}\n        <Users\n          totalUsersCount={this.props.totalUsersCount}\n          pageSize={this.props.pageSize}\n          currentPage={this.props.currentPage}\n          onPageChange={this.onPageChange}\n          users={this.props.users}\n          follow={this.props.follow}\n          unfollow={this.props.unfollow}\n          followingInProgress={this.props.followingInProgress}\n        />\n      </>\n    );\n  }\n}\n\nlet mapStateToProps = (state) => {\n  return {\n    users: getUsers(state),\n    pageSize: getPageSize(state),\n    totalUsersCount: getTotalUsersCount(state),\n    currentPage: getCurrentPage(state),\n    isFetching: getIsFetching(state),\n    followingInProgress: getFollowingInProgress(state),\n  };\n};\n\nexport default compose(\n  connect(mapStateToProps, {\n    follow,\n    unfollow,\n    setCurrentPage,\n    setToggleFollowingProgress,\n    requestUsers,\n  })\n)(UsersContainer);\n","import React, { Suspense } from 'react'\nimport Preloader from \"../components/common/Preloader/preloader\";\n\nexport const widthSuspence = (Component) => {\n  return (props) => {\n    return (\n      <Suspense fallback={<Preloader />}>\n        <Component {...props} />\n      </Suspense>\n    );\n  };\n};\n","import React from \"react\";\nimport { Route } from \"react-router\";\nimport \"./App.css\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport store from \"./state/redux-store\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport NavbarContainer from \"./components/Navbar/NavbarContainer\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport { Switch, Redirect } from \"react-router\";\nimport { connect } from \"react-redux\";\nimport { initializeApp } from \"./state/appReducer\";\nimport { compose } from \"redux\";\nimport Preloader from \"./components/common/Preloader/preloader\";\nimport { widthSuspence } from \"./hoc/widthSuspence\";\n\nconst DialogsContainer = React.lazy(() =>\n  import(\"./components/Dialogs/DialogsContainer\")\n);\nconst ProfileContainer = React.lazy(() =>\n  import(\"./components/Profile/ProfileContainer\")\n);\nconst Login = React.lazy(() => import(\"./components/Login/Login\"));\n\nclass App extends React.Component {\n  componentDidMount() {\n    const catchAllUnhandledErrors = (reason, promise) => {\n      alert(\"\" + promise + \" \" + reason);\n    };\n    this.props.initializeApp();\n    window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\n      \"unhandledrejection\",\n      this.catchAllUnhandledErrors\n    );\n  }\n\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />;\n    }\n\n    return (\n      <div className=\"wrapper\">\n        <HeaderContainer />\n        <NavbarContainer />\n        <div className=\"wrapper_content\">\n          <Switch>\n            <Route\n              exact\n              path=\"/\"\n              render={() => {\n                <Redirect to={\"/profile\"} />;\n              }}\n            />\n            <Route path=\"/dialogs\" render={widthSuspence(DialogsContainer)} />\n            <Route\n              path=\"/profile/:userId?\"\n              render={widthSuspence(ProfileContainer)}\n            />\n            <Route path=\"/users\" render={() => <UsersContainer />} />\n\n            <Route path=\"/login\" render={      (Login)} />\n\n            <Route\n              path=\"/news\"\n              render={() => {\n                return <div>News</div>;\n              }}\n            />\n\n            <Route\n              path=\"/music\"\n              render={() => {\n                return <div>Music</div>;\n              }}\n            />\n\n            <Route\n              path=\"/settings\"\n              render={() => {\n                return <div>settings</div>;\n              }}\n            />\n\n            <Route\n              path=\"*\"\n              render={() => {\n                return <div>404 not found</div>;\n              }}\n            />\n          </Switch>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized,\n});\n\nlet AppContainer = compose(\n  connect(mapStateToProps, {\n    initializeApp,\n  })(App)\n);\nconst MainApp = (props) => {\n  return (\n    <BrowserRouter>\n      <Provider store={store}>\n        <AppContainer />\n      </Provider>\n    </BrowserRouter>\n  );\n};\n\nexport default MainApp;\n","import reportWebVitals from \"./reportWebVitals\";\nimport ReactDOM from \"react-dom\";\n\nimport MainApp from \"./App\";\nReactDOM.render(\n  <MainApp />,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { stopSubmit } from \"redux-form\";\nimport { authAPI, securityAPI } from \"../api/api\";\n\nconst SET_USER_DATA = \"auth/SET-USER-DATA\";\nconst SET_CAPTCHA_URL = \"SET_CAPTCHA_URL\";\nconst TOGGLE_IS_FETCHING = \"auth/TOGGLE-IS-FETCHING\";\n\nlet initialState = {\n  userId: null,\n  email: null,\n  login: null,\n  isFetching: false,\n  isAuth: false,\n  captchaUrl: null,\n};\n\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_USER_DATA:\n      return {\n        ...state,\n        ...action.data,\n      };\n    case TOGGLE_IS_FETCHING:\n      return { ...state, isFetching: action.isFetching };\n    case SET_CAPTCHA_URL:\n      return { ...state, captchaUrl: action.captchaUrl };\n\n    default:\n      return state;\n  }\n};\n\nexport const setAuthUserData = (userId, email, login, isAuth) => {\n  return {\n    type: SET_USER_DATA,\n    data: { userId, email, login, isAuth },\n  };\n};\n\nexport const setToggleFetching = (isFetching) => {\n  return {\n    type: TOGGLE_IS_FETCHING,\n    isFetching,\n  };\n};\n\nexport const getCaptchaUrlSucces = (captchaUrl) => {\n  return {\n    type: SET_CAPTCHA_URL,\n    captchaUrl,\n  };\n};\n\nexport const getAuthUserData = () => async (dispatch) => {\n  dispatch(setToggleFetching(true));\n  let responce = await authAPI.authMe();\n\n  if (responce.resultCode === 0) {\n    let { id, email, login } = responce.data;\n    dispatch(setAuthUserData(id, email, login, true));\n  }\n  dispatch(setToggleFetching(false));\n};\n\nexport const login = (email, password, rememberMe,captchaUrl) => async (dispatch) => {\n  let responce = await authAPI.login(email, password, rememberMe,captchaUrl);\n  if (responce.resultCode === 0) {\n    dispatch(getAuthUserData());\n  } else {\n    if (responce.resultCode === 10) {\n      dispatch(getCaptchaUrl());\n    }\n    let message =\n      responce.data.messages.length > 0\n        ? responce.data.messages[0]\n        : \"Some error\";\n    dispatch(stopSubmit(\"login\", { _error: message }));\n  }\n};\n\nexport const getCaptchaUrl = () => async (dispatch) => {\n  let responce = await securityAPI.getCaptchUrl();\n  dispatch(getCaptchaUrlSucces(responce.url));\n};\n\nexport const logout = () => async (dispatch) => {\n  let responce = await authAPI.logout();\n  if (responce.resultCode === 0) {\n    dispatch(setAuthUserData(null, null, null, false));\n  }\n};\n\nexport default authReducer;\n","export default __webpack_public_path__ + \"static/media/preloader.30c0aa7c.gif\";","import preloader from './../../../assets/images/preloader.gif';\nimport style from \"./../../Users/users.module.css\"\n\nlet Preloader = (props) => {\n  return <img className={style.fetching} alt=\"rounded\" src={preloader} />;\n};\n\nexport default Preloader;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"users_avatar__2VySR\",\"user\":\"users_user__1fmHm\",\"selectedPage\":\"users_selectedPage__1mnwI\",\"page\":\"users_page__1338J\",\"fetching\":\"users_fetching__2GfFp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"header__logo\":\"Header_header__logo__1ETZb\",\"loginBlock\":\"Header_loginBlock__6mma5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\",\"item\":\"Navbar_item__zmMk4\",\"activeLink\":\"Navbar_activeLink__3etBE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"paginator_selectedPage__Qa29V\",\"page\":\"paginator_page__2mIPZ\",\"paginator\":\"paginator_paginator__bYHBV\",\"pageNumber\":\"paginator_pageNumber__guCgF\"};","import { stopSubmit } from \"redux-form\";\nimport { profileAPI, usersAPI } from \"../api/api\";\n\nconst ADD_POST = \"ADD-POST\";\nconst DELETE_POST = \"DELETE-POST\";\nconst SET_USER_PROFILE = \"SET-USER-PROFILE\";\nconst TOGGLE_IS_FETCHING = \"TOGGLE-IS-FETCHING\";\nconst SET_STATUS = \"SET-STATUS\";\nconst SAVE_PHOTO_SUCCES = \"SAVE-PHOTO-SUCCES\";\nconst SAVE_PROFILE_SUCCES = \"SAVE-PROFILE-SUCCES\";\n\nlet initialState = {\n  posts: [\n    { id: 1, message: \"Hi, lotus\", likeCounts: 0 },\n    { id: 2, message: \"Hello World\", likeCounts: 20 },\n  ],\n  profile: null,\n  isFetching: false,\n  status: \" \",\n};\n\nconst profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST: {\n      let newPost = {\n        id: 3,\n        message: action.newPostText,\n        likeCounts: 0,\n      };\n      return {\n        ...state,\n        posts: [...state.posts, newPost],\n      };\n    }\n    case DELETE_POST: {\n      return {\n        ...state,\n        posts: state.posts.filter((p) => p.id !== action.postId),\n      };\n    }\n    case SET_USER_PROFILE: {\n      return { ...state, profile: action.profile };\n    }\n    case TOGGLE_IS_FETCHING:\n      return { ...state, isFetching: action.isFetching };\n\n    case SET_STATUS:\n      return { ...state, status: action.status };\n    case SAVE_PHOTO_SUCCES:\n      return { ...state, profile: { ...state.profile }, photos: action.photos };\n    case SAVE_PROFILE_SUCCES:\n      return { ...state, profile: action.profile };\n    default:\n      return state;\n  }\n};\n\nexport let addPostActionCreator = (newPostText) => {\n  return {\n    type: ADD_POST,\n    newPostText,\n  };\n};\n\nexport let setUserProfile = (profile) => {\n  return {\n    type: SET_USER_PROFILE,\n    profile,\n  };\n};\n\nexport const setToggleFetching = (isFetching) => {\n  return {\n    type: TOGGLE_IS_FETCHING,\n    isFetching,\n  };\n};\n\nexport const setStatus = (status) => {\n  return {\n    type: SET_STATUS,\n    status,\n  };\n};\n\nexport const deletePost = (postId) => {\n  return {\n    type: DELETE_POST,\n    postId,\n  };\n};\nexport const savePhotoSucces = (photos) => {\n  return {\n    type: SAVE_PHOTO_SUCCES,\n    photos,\n  };\n};\n\nexport const saveProfileSucces = (profile) => {\n  return {\n    type: SAVE_PROFILE_SUCCES,\n    profile,\n  };\n};\n\nexport const getUserProfile = (userId) => async (dispatch) => {\n  dispatch(setToggleFetching(true));\n  let respoce = await usersAPI.getUserProfile(userId);\n  dispatch(setUserProfile(respoce));\n  dispatch(setToggleFetching(false));\n};\n\nexport const getUserStatus = (userId) => async (dispatch) => {\n  let responce = await profileAPI.getUserStatus(userId);\n  dispatch(setStatus(responce));\n};\n\nexport const updateUserStatus = (status) => async (dispatch) => {\n  // try {\n  let responce = await profileAPI.updateStatus(status);\n  if (responce.resultCode === 0) dispatch(setStatus(status));\n  //  } catch (error) {\n  //alert(error);\n  //}\n};\n\nexport const savePhoto = (file) => async (dispatch) => {\n  let responce = await profileAPI.savePhoto(file);\n  if (responce.resultCode === 0) dispatch(savePhotoSucces(responce.photos));\n};\nexport const saveProfile = (file) => async (dispatch) => {\n  let responce = await profileAPI.saveProfile(file);\n  if (responce.resultCode === 0) dispatch(saveProfileSucces(responce.photos));\n  else {\n    dispatch(stopSubmit(\"editProfile\", { _error: responce.data.messages[0] }));\n    return Promise.reject(responce.data.messages[0]);\n  }\n};\n\nexport default profileReducer;\n","const ADD_MESSAGE = \"ADD-MESSAGE\";\n\nlet initialState = {\n  dialogs: [\n    { id: 1, name: \"Dima\" },\n    { id: 2, name: \"Andry\" },\n    { id: 3, name: \"Sveta\" },\n    { id: 4, name: \"Victor\" },\n    { id: 5, name: \"Valera\" },\n  ],\n  messages: [\n    { id: 1, message: \"Hi\" },\n    { id: 2, message: \"How are you?\" },\n    { id: 3, message: \"Fine\" },\n    { id: 4, message: \"Me too\" },\n  ],\n};\n\nconst dialogsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_MESSAGE: {\n      let newMessage = {\n        id: 5,\n        message: action.newMessageText,\n      };\n\n      return {\n        ...state,\n        messages: [...state.messages, newMessage],\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport let addMessage = (newMessageText) => {\n  return {\n    type: ADD_MESSAGE,\n    newMessageText,\n  };\n};\n\nexport default dialogsReducer;\n","import * as axios from \"axios\";\n\nconst instance = axios.create({\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\n  withCredentials: true,\n  headers: {\n    \"API-KEY\": \"a347d9d3-588f-4bab-86d9-b5ffdf4c078e\",\n  },\n});\n\nexport const usersAPI = {\n  getUsers(currentPage = 1, pageSize = 5) {\n    return instance\n      .get(`users?page=${currentPage}&count=${pageSize}`)\n      .then((responce) => {\n        return responce.data;\n      });\n  },\n  followUser(userId) {\n    return instance.post(`follow/${userId}`).then((responce) => {\n      return responce.data;\n    });\n  },\n  unfollowUser(userId) {\n    return instance.delete(`follow/${userId}`).then((responce) => {\n      return responce.data;\n    });\n  },\n  getUserProfile(userId) {\n    return profileAPI.getUserProfile(userId);\n  },\n};\n\nexport const authAPI = {\n  authMe() {\n    return instance.get(`auth/me`).then((responce) => {\n      return responce.data;\n    });\n  },\n  login(email, password, rememberMe = false, captchaUrl = null) {\n    return instance.post(`auth/login`, {\n      email,\n      password,\n      rememberMe,\n      captchaUrl,\n    });\n  },\n  logout() {\n    return instance.delete(`auth/login`);\n  },\n};\n\nexport const profileAPI = {\n  getUserProfile(userId) {\n    return instance.get(`profile/` + userId).then((responce) => {\n      return responce.data;\n    });\n  },\n  getUserStatus(userId) {\n    return instance.get(`profile/status/` + userId).then((responce) => {\n      return responce.data;\n    });\n  },\n  updateStatus(status) {\n    return instance.put(`profile/status`, { status }).then((responce) => {\n      return responce.data;\n    });\n  },\n  savePhoto(file) {\n    let formData = new FormData();\n    formData.append(\"image\", file);\n    return instance\n      .put(`profile/photo`, formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      })\n      .then((responce) => {\n        return responce.data;\n      });\n  },\n  saveProfile(profile) {\n    return instance.put(`profile`, profile).then((responce) => {\n      return responce.data;\n    });\n  },\n};\n\nexport const securityAPI = {\n  getCaptchUrl() {\n    return instance.get(`security/get-captcha-url`).then((responce) => {\n      return responce.data;\n    });\n  },\n};\n","export default __webpack_public_path__ + \"static/media/user.3468e99e.png\";"],"sourceRoot":""}